var csvGenerator={cols:["Trailer Name","Type","Last Location","Status","Manager/User","Maintenance Notifications","Plate","VIN","Notes"],resultJSON:[],parse:function(a,b){if(_.each(a,function(a,b){this.resultJSON[b]={},_.each(this.cols,function(c){this.resultJSON[b][c]=this[c](a)},this)},this),this.resultCSV=Papa.unparse(this.resultJSON),-1!=navigator.userAgent.indexOf(".NET")){var c=window.open();return c.document.write(this.resultCSV),c.document.close(),c.document.execCommand("SaveAs",!0,"export.csv"),void c.close()}this.resultCSV="data:text/csv;charset=utf-8,"+this.resultCSV;var d=encodeURI(this.resultCSV).replace(/#/g,"%23");b.setAttribute("href",d),b.setAttribute("download","export.csv"),b.setAttribute("target","_blank")},"Trailer Name":function(a){return a.Information.name},Type:function(a){return a.Information.type},"Last Location":function(a){return[a.Location.address," "+new Date(a.Status.reportTime).toLocaleString()]},Status:function(a){return MapDeviceStateToUserText(a.Status.deviceState)},"Manager/User":function(a){return a.Information.userManager},"Maintenance Notifications":function(a){var b=[];return _.each(a.MaintenanceAlerts,function(a,c){var d=MapMaintenanceText(a.AlertText);c&&(d=" "+d),b.push(d)}),b},Plate:function(a){return a.Information.plateNumber},VIN:function(a){return a.Information.vin},Notes:function(a){return a.Information.notes}};